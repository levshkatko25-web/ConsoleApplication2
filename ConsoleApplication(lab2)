#define _CRT_SECURE_NO_WARNINGS
#include <iostream>

using namespace std;

//создаю структуру для дополнительной информации об автосалоне
struct more_data_car {
    string dealership;  // Здесь я храню название автосалона
    int cost;           // Здесь я храню цену автомобиля
};

// Я создаю основную структуру для автомобиля
struct data_car {
    string name;        //Название автомобиля
    float speed;        //Максимальная скорость
    int year;           //Год выпуска
    more_data_car more_data;
};

//функция для вывода всех автомобилей через указатель
void print(data_car* ptr_car, int size) {

    cout << "№    название\tскорость\tгод\tавтосалон\tцена(руб)\n";

    //прохожу по всем элементам массива
    for (int i = 0; i < size; i++) {
        //оператор позволяет обращаться к полям структуры
        cout << i
            << "    " << (ptr_car + i)->name              //Вывожу название
            << "    " << (ptr_car + i)->speed             //Вывожу скорость
            << "    " << (ptr_car + i)->year              //Вывожу год
            << "    " << (ptr_car + i)->more_data.dealership //Вывожу автосалон
            << "    " << (ptr_car + i)->more_data.cost    //Вывожу цену
            << endl;
    }
}

//Главная функция
int main() {
    setlocale(LC_ALL, "RU");
    cout << "Задание 1: Вывод с использованием одним из способов указателя на структуру." << endl << endl;

    //создаю массив из 3 автомобилей(можно ставить хоть сколько)
    data_car car[3];

    //объявляю указатель на структуру data_car
    data_car* ptr_car;

    //присваиваю указателю адрес начала массива
    ptr_car = car;

    //указываю данные для каждого авто
    car[0] = { {"Toyota MarkII"}, {220}, {2012}, { "P.G Motors     " , 5000000} };
    car[1] = { {"Porsche 911  "}, {300}, {1986}, {"Turbo Charge   ", 6500000} };
    car[2] = { {"Vaz 2114     "}, {180}, {2006}, { "Soviet Avtoprom", 400000 } };

    // Я вызываю функцию print, передавая ей указатель и размер
    print(ptr_car, 3);

    return 0; 
}
