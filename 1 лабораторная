#include <iostream>
#include <locale>
#include <climits> //для использования INT_MAX

using namespace std;

// Задание 1. Указатель ptr_var_d -> var_d = 0. Через указатель ptr_var_d изменить значение переменной var_d на -54.38. Вывести var_d.
void zadanie1() {
    cout << "1 задание" << endl;
    float var_d = 0;
    cout << "var_d = " << var_d << endl;

    float* ptr_var_d = &var_d; // Беру адрес var_d и сохраняю в указатель

    *ptr_var_d = -54.38; // Меняю значение var_d через указатель

    cout << "var_d = " << var_d << endl; // Показываю результат
    return;
}
// Комментарий: Создаю переменную, беру её адрес в указатель и меняю значение через этот указатель.

// Задание 2. Дано int k. Объявите ptr_k -> k. Увеличьте значение переменной k на 10, используя указатель ptr_k. Вывести k.
void zadanie2() {
    cout << "2 задание" << endl;
    int k = 100;
    cout << "k = " << k << endl;

    int* ptr_k = &k; // Указываю на k
    *ptr_k = *ptr_k + 10; // Увеличиваю k через указатель

    cout << "ptr_k = " << *ptr_k << "\nk = " << k << endl;
    return;
}
// Комментарий: Увеличиваю значение переменной k на 10, работая с ней через указатель.

// Задание 3. Дано int b. Объявите ptr_a -> int a. Через указатель ptr_a присвойте а значение b. Вывести а.
void zadanie3() {
    cout << "3 задание" << endl;
    int b = 10;
    cout << "b = " << b << endl;

    int a = NULL; // Создаю переменную a
    int* ptr_a = &a; // Указываю на a
    *ptr_a = b; // Копирую значение b в a через указатель

    cout << "ptr_a = " << *ptr_a << "\na = " << a << endl;
    return;
}
// Комментарий: Создаю переменную a и копирую в неё значение b через указатель.

// Задание 4. Объявите ptr_a -> а и указатель ptr_b -> b. Выполните обмен значениями а и b через ptr_a и ptr_b.
void zadanie4() {
    cout << "4 задание" << endl;
    int a = 1, b = 0;
    int* ptr_a = &a, * ptr_b = &b;

    cout << "До обмена: a = " << a << " b = " << b << endl;

    // Меняем значения через временную переменную
    int temp = *ptr_a;
    *ptr_a = *ptr_b;
    *ptr_b = temp;

    cout << "После обмена: a = " << a << " b = " << b << endl;

    return;
}// Комментарий: Меняю значения переменных a и b местами, используя только указатели.

// Задание 5. Объявите ptr_a -> а и указатель ptr_b -> b. Вычислите произведение значений а и b через ptr_a и ptr_b. Вывести в res.
void zadanie5() {
    cout << "5 задание" << endl;
    int a = 10, b = 5;
    int* ptr_a = &a, * ptr_b = &b;
    cout << "a = " << *ptr_a << " b = " << *ptr_b << endl;

    int res = *ptr_a * *ptr_b; // Умножаю значения через указатели
    cout << "res = " << res << endl;
    return;
}
// Комментарий: Умножаю значения двух переменных, обращаясь к ним через указатели.

// Задание 6. Дан массив int чисел. Увеличить все элементы массива в два раза.
void zadanie6() {
    cout << "6 задание" << endl;
    int array[5] = { 1, 2, 3, 4, 5 };
    int* ptr_array = array; // Указатель на начало массива

    cout << "До изменения:\n";
    for (int i = 0; i < 5; i++) {
        cout << "ptr_array[" << i << "] = " << *(ptr_array + i) << endl;
    }

    // Удваиваю каждый элемент
    for (int i = 0; i < 5; i++) {
        *(ptr_array + i) = *(ptr_array + i) * 2;
    }

    cout << "После изменения:\n";
    for (int i = 0; i < 5; i++) {
        cout << "ptr_array[" << i << "] = " << *(ptr_array + i) << endl;
    }
    return;
}
// Комментарий: Прохожу по массиву через указатель и удваиваю значение каждого элемента.

// Задание 7. Дан массив int чисел. Определить номер MIN элемента массива и элемента, являющегося MIN без учета этого элемента.
void zadanie7() {
    cout << "7 задание" << endl;
    int array[5] = { 3, 1, 8, 4, 5 };
    int* ptr_array = array;

    for (int i = 0; i < 5; i++) {
        cout << "ptr_array[" << i << "] = " << *(ptr_array + i) << endl;
    }

    // Нахожу первый минимальный элемент
    int first_min = *(ptr_array); // Предполагаю, что первый элемент - минимальный
    for (int i = 1; i < 5; i++) {
        if (*(ptr_array + i) < first_min) {
            first_min = *(ptr_array + i);
        }
    }
    cout << "Первый MIN элемент = " << first_min << endl;

    // Ищу индекс первого минимального элемента
    int first_min_index = 0;
    for (int i = 0; i < 5; i++) {
        if (first_min == *(ptr_array + i)) {
            first_min_index = i;
            break; // Нашел первый минимальный - выхожу
        }
    }
    cout << "Первый MIN индекс = " << first_min_index << endl;

    // Ищу минимальный элемент, исключая первый найденный минимальный
    int second_min = INT_MAX; // Начинаю с очень большого числа
    int second_min_index = -1;

    for (int i = 0; i < 5; i++) {
        if (i != first_min_index && *(ptr_array + i) < second_min) {
            second_min = *(ptr_array + i);
            second_min_index = i;
        }
    }

    if (second_min_index != -1) {
        cout << "MIN без учета первого MIN: " << second_min << " (индекс: " << second_min_index << ")" << endl;
    }
    else {
        cout << "Все элементы одинаковые" << endl;
    }

    return;
}
// Комментарий: Нахожу минимальный элемент в массиве, а потом ищу следующий минимальный, исключая первый.

// Задание 8. Найти сумму элементов массива, расположенных между MAX и MIN элементами.
void zadanie8() {
    cout << "8 задание" << endl;
    int array[5] = { 6, 5, 3, 2, 1 };
    int* ptr_array = array;
    for (int i = 0; i < 5; i++) {
        cout << "ptr_array[" << i << "] = " << *(ptr_array + i) << endl;
    }

    // Нахожу минимальный и максимальный элементы
    int min = *(ptr_array);
    int max = *(ptr_array);
    for (int i = 1; i < 5; i++) {
        if (*(ptr_array + i) < min) min = *(ptr_array + i);
        if (*(ptr_array + i) > max) max = *(ptr_array + i);
    }

    cout << "MIN = " << min << endl
        << "MAX = " << max << endl;

    // Нахожу индексы MIN и MAX элементов (первые встретившиеся)
    int min_index = -1, max_index = -1;

    for (int i = 0; i < 5; i++) {
        if (*(ptr_array + i) == min && min_index == -1) {
            min_index = i;
        }
        if (*(ptr_array + i) == max && max_index == -1) {
            max_index = i;
        }
    }

    cout << "Индекс MIN: " << min_index << endl;
    cout << "Индекс MAX: " << max_index << endl;

    // Нахожу сумму элементов между MIN и MAX
    int sum = 0;

    if (min_index != -1 && max_index != -1) {
        int start, end;

        // Определяю, какой индекс раньше
        if (min_index < max_index) {
            start = min_index + 1;
            end = max_index - 1;
        }
        else {
            start = max_index + 1;
            end = min_index - 1;
        }

        // Суммирую элементы между ними
        for (int i = start; i <= end; i++) {
            sum += *(ptr_array + i);
        }

        cout << "Сумма элементов между MIN и MAX: " << sum << endl;
    }

    return;
}
// Комментарий: Нахожу минимальный и максимальный элементы, определяю их позиции и суммирую числа между ними.

// Задание 9. Написать функцию нахождения суммы элементов одномерного массива.
int sum_array(int* arr) {
    int sum = 0;
    for (int i = 0; i < 5; i++) {
        sum += *(arr + i);
    }
    return sum;
}

void zadanie9() {
    cout << "9 задание" << endl;
    int array[5] = { 1, 2, 3, 4, 5 };
    int* ptr_array = array;
    for (int i = 0; i < 5; i++) {
        cout << "ptr_array[" << i << "] = " << *(ptr_array + i) << endl;
    }

    cout << "Сумма элементов = " << sum_array(ptr_array) << endl;
    return;
}
// Комментарий: Создаю функцию, которая суммирует все элементы массива, и вызываю её.    

int main() {
    setlocale(LC_ALL, "ru");
    zadanie1();
    cout << "----------" << endl;
    zadanie2();
    cout << "----------" << endl;
    zadanie3();
    cout << "----------" << endl;
    zadanie4();
    cout << "----------" << endl;
    zadanie5();
    cout << "----------" << endl;
    zadanie6();
    cout << "----------" << endl;
    zadanie7();
    cout << "----------" << endl;
    zadanie8();
    cout << "----------" << endl;
    zadanie9();

    return 0;
}
